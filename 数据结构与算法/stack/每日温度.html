<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>每日温度</title>
</head>
<body>
    <script>
        let temperatures = [73,74,75,71,69,72,76,73];// [1,1,4,2,1,1,0,0]
        // let temperatures = [30,40,50,60];// [1,1,1,0]
        // let temperatures = [30,60,90];// [1,1,0]
        /**
        * @param {number[]} temperatures
        * @return {number[]}
        */
        // var dailyTemperatures = function(temperatures) {
        //     const temp = [...temperatures];
        //     const answer = [];
        //     let count = 0;
        //     while (temperatures.length) {
        //         let cur = temperatures.shift();
        //         for (let i = 0; i < temp.length; i++) {
        //             if (cur < temp[i]) {
        //                 answer[count] = i;
        //                 break;
        //             }
        //         }
        //         if (!answer[count]) {
        //             answer[count] = 0;
        //         }
        //         temp.shift();
        //         count++;
        //     }
        //     return answer;
        // };
        var dailyTemperatures = function(temperatures) {
            const stack = [];
            const answer = new Array(temperatures.length).fill(0);
            for (let i = 0; i < temperatures.length; i++) {
                if (stack.length) {
                    let top = stack[stack.length - 1];
                    while (temperatures[i] > temperatures[top]) {
                        answer[top] = i - top;
                        stack.pop();
                        if (stack.length) {
                            top = stack[stack.length - 1];
                        } else {
                            break;
                        }
                    }
                }
                stack.push(i);
            }
            return answer;
        }
        console.log(dailyTemperatures(temperatures));
    </script>
</body>
</html>