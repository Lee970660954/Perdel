<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>question2</title>
</head>
<body>
    <p>
        给定数组，输出出现次数最多的字母前数字之和。
        示例：
        ['1a','2b','13c','5a']的结果为6
    </p>
    <script>
        const arr = ['1a','2b','13c','5a'];
        
        // function getMax (arr) {
        //     const map = new Map();
        //     let max = 0,
        //         maxChar = 0;
        //     for (let i = 0; i < arr.length; i++) {
        //         let char = arr[i].substring(arr[i].length - 1),
        //             num = arr[i].substring(0, arr[i].length - 1),
        //             mapV = map.get(char) || [];
        //         map.set(char, [...mapV, num]);
        //     }
        //     map.forEach((value, key) => {
        //         if (value.length > maxChar) {
        //             maxChar = value.length;
        //             max = value.reduce((a, b) => {
        //                 return Number(a) + Number(b);
        //             }, 0)
        //         }
        //     })
        //     return max;
        // }
        function getMax (arr) {
            const map = {};
            let max = 0,
                maxChar = 0;
            for (let i = 0; i < arr.length; i++) {
                let char = arr[i].substring(arr[i].length - 1),
                    num = arr[i].substring(0, arr[i].length - 1),
                    mapV = map[char] || [];
                map[char] = [...mapV, num];
            }
            for (let key in map) {
                if (map[key].length > maxChar) {
                    maxChar = map[key].length;
                    max = map[key].reduce((a, b) => {
                        return Number(a) + Number(b);
                    }, 0)
                }
            }
            return max;
        }
        console.log(getMax(arr));
    </script>
</body>
</html>