<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>字符串转换整数</title>
</head>
<body>
    <script>
        const NUMBERS = "0123456789";
        const MIN = -Math.pow(2,31);
        const MAX = Math.pow(2,31) - 1;
        // 解法一 循环遍历
        function myAtoi (str) {
            str = str.trim();
            let arr = str.split(""),
                flag = "+",
                result = "0";
            try {
                arr.forEach((item, index) => {
                    if (index === 0) {
                        if (item === "-") {
                            flag = "-";
                        } else if (item === "+") {
                            flag = "+";
                        } else if (NUMBERS.indexOf(item) === -1) {
                            throw new Error("break");
                        } else {
                            result = result + item;
                        }
                    } else {
                        if (NUMBERS.indexOf(item) === -1) {
                            throw new Error("break");
                        } else {
                            result = result + item;
                        }
                    }
                })
            } catch (error) {
                console.log("error", error);
            }
            result = parseInt(flag + result);
            return result < MIN ? MIN : (result > MAX ? MAX : result);
        }
        // 解法二 正则匹配
        // function myAtoi (str) {
        //     const result = parseInt(str.trim().match(/^[-+]?[0-9]*/g)[0]) || 0;
        //     return result < MIN ? MIN : (result > MAX ? MAX : result);
        // }
        let param = "   42";
        // let param = "   -42";
        // let param = "4193 with words";
        // let param = "words and 987";
        // let param = "-91283472332";
        // let param = "+-12";
        const result = myAtoi(param);
        console.log("result", result);
    </script>
</body>
</html>